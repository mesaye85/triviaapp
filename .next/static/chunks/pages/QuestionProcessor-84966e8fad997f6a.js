(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[317],{4951:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/QuestionProcessor",function(){return n(8136)}])},8136:function(e,t,n){"use strict";n.r(t);var r=n(5893),i=n(7294);t.default=e=>{let{category:t,onGameOver:n}=e,[s,l]=(0,i.useState)([]),[o,u]=(0,i.useState)(null),[c,a]=(0,i.useState)(20),[h,d]=(0,i.useState)(0),[f,p]=(0,i.useState)(null),[v,_]=(0,i.useState)(null);function g(e){p(e.target.value),e.target.value===o.correctOption?(d(e=>e+100),function(){let e=s.findIndex(e=>e.id===o.id);if(e>=s.length-1)n(h);else{let t=s[e+1];p(null),u(t)}}()):n(h)}return(0,i.useEffect)(()=>{axios.get("/api/questions/".concat(t)).then(e=>{let t=function(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}(e.data);if(!t.length){_("No questions available for this category");return}l(t),u(t[0])}).catch(e=>{console.error("Error fetching questions:",e),_("Error fetching questions")})},[t]),(0,i.useEffect)(()=>{if(o){a(20);let e=setInterval(()=>{a(t=>(t<=0&&(clearInterval(e),n(h)),t-1))},1e3);return()=>clearInterval(e)}},[o,n,h]),v?(0,r.jsxs)("div",{children:["Error: ",v]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:null==o?void 0:o.question}),(0,r.jsxs)("p",{children:["Time remaining: ",c," seconds"]}),o&&Object.entries(o.options).map(e=>{let[t,n]=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"radio",id:t,name:"option",value:t,checked:f===t,onChange:g}),(0,r.jsx)("label",{htmlFor:t,children:"".concat(t,": ").concat(n)})]},t)}),(0,r.jsxs)("p",{children:["Score: ",h]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4951)}),_N_E=e.O()}]);